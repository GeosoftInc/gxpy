

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>geosoft.gxpy.vox_display &#8212; Geosoft GX Python API 9.10.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/maki.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-87443115-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Geosoft GX Python API 9.10.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">geosoft.gxpy.vox_display</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Introduction</a></li>
    <li><a href="../../index.html">Module code</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for geosoft.gxpy.vox_display</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Geosoft vox display handling, which manages the rendering of a `geosoft.gxpy.vox.Vox` in a 3d view.</span>

<span class="sd">:Classes:</span>
<span class="sd">    :`VoxDisplay`: 3D visualization of a vox, which can be placed `geosoft.gxpy.view.View_3d`</span>

<span class="sd">:Constants:</span>
<span class="sd">    :ZONE_DEFAULT: 0</span>
<span class="sd">    :ZONE_LINEAR: 1</span>
<span class="sd">    :ZONE_NORMAL: 2</span>
<span class="sd">    :ZONE_EQUALAREA: 3</span>
<span class="sd">    :ZONE_SHADE: 4</span>
<span class="sd">    :ZONE_LOGLINEAR: 5</span>
<span class="sd">    :ZONE_LAST: 6</span>
<span class="sd">    :RENDER_FILL: 0</span>
<span class="sd">    :RENDER_EDGE: 1</span>
<span class="sd">    :RENDER_FILL_EDGE: 2</span>
<span class="sd">    :RENDER_SMOOTH: 3</span>



<span class="sd">.. seealso:: `geosoft.gxpy.vox.Vox`, `geosoft.gxpy.view.View_3d`, `geosoft.gxapi.GXVOXD`</span>

<span class="sd">.. note::</span>

<span class="sd">    Regression tests provide usage examples:</span>
<span class="sd">    `vox_display tests &lt;https://github.com/GeosoftInc/gxpy/blob/master/geosoft/gxpy/tests/test_vox_display.py&gt;`_</span>

<span class="sd">.. versionadded:: 9.3.1</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">import</span> <span class="nn">geosoft</span>
<span class="kn">import</span> <span class="nn">geosoft.gxapi</span> <span class="k">as</span> <span class="nn">gxapi</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">gx</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">view</span> <span class="k">as</span> <span class="n">gxview</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">group</span> <span class="k">as</span> <span class="n">gxgroup</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">vox</span> <span class="k">as</span> <span class="n">gxvox</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="nb">map</span> <span class="k">as</span> <span class="n">gxmap</span>

<span class="n">__version__</span> <span class="o">=</span> <span class="n">geosoft</span><span class="o">.</span><span class="n">__version__</span>


<span class="k">def</span> <span class="nf">_t</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">geosoft</span><span class="o">.</span><span class="n">gxpy</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>


<div class="viewcode-block" id="VoxDisplayException"><a class="viewcode-back" href="../../../geosoft.gxpy.vox_display.html#geosoft.gxpy.vox_display.VoxDisplayException">[docs]</a><span class="k">class</span> <span class="nc">VoxDisplayException</span><span class="p">(</span><span class="n">geosoft</span><span class="o">.</span><span class="n">GXRuntimeError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exceptions from :mod:`geosoft.gxpy.vox_display`.</span>

<span class="sd">    .. versionadded:: 9.2</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span></div>


<span class="n">ZONE_DEFAULT</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">ZONE_LINEAR</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">ZONE_NORMAL</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">ZONE_EQUALAREA</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">ZONE_SHADE</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">ZONE_LOGLINEAR</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">ZONE_LAST</span> <span class="o">=</span> <span class="mi">6</span>

<span class="n">RENDER_FILL</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">RENDER_EDGE</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">RENDER_FILL_EDGE</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">RENDER_SMOOTH</span> <span class="o">=</span> <span class="mi">3</span>

<div class="viewcode-block" id="VoxDisplay"><a class="viewcode-back" href="../../../geosoft.gxpy.vox_display.html#geosoft.gxpy.vox_display.VoxDisplay">[docs]</a><span class="k">class</span> <span class="nc">VoxDisplay</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creation and handling of vox displays. Vox displays can be placed into a 3D view for display.</span>

<span class="sd">    :Constructors:</span>
<span class="sd">        :`solid`:        create as a solid, each cell colored from a `geosoft.gxpy.group.Color_map`</span>
<span class="sd">        :`vector`:       create as a vector voxel as vectors colored from a `geosoft.gxpy.group.Color_map`</span>
<span class="sd">        :`gxapi_gxvoxd`: create from an existing `geosoft.gxapi.GXVOXD` instance</span>

<span class="sd">    .. versionadded:: 9.3.1</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">(</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_type</span><span class="p">,</span> <span class="n">_value</span><span class="p">,</span> <span class="n">_traceback</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="fm">__del__</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_close&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_close</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_open&#39;</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_open</span><span class="p">:</span>
                <span class="n">gx</span><span class="o">.</span><span class="n">pop_resource</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_open</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_gxvoxd</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_vox</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_open</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="VoxDisplay.__init__"><a class="viewcode-back" href="../../../geosoft.gxpy.vox_display.html#geosoft.gxpy.vox_display.VoxDisplay.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vox</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gxvoxd</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vox</span> <span class="o">=</span> <span class="n">vox</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">vox</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">vox</span><span class="o">.</span><span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vector</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vector_cone_specs</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_open</span> <span class="o">=</span> <span class="n">gx</span><span class="o">.</span><span class="n">track_resource</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="VoxDisplay.solid"><a class="viewcode-back" href="../../../geosoft.gxpy.vox_display.html#geosoft.gxpy.vox_display.VoxDisplay.solid">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">solid</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
              <span class="n">vox</span><span class="p">,</span>
              <span class="n">color_map</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
              <span class="n">zone</span><span class="o">=</span><span class="n">ZONE_DEFAULT</span><span class="p">,</span>
              <span class="n">contour</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a solid colored vox_display from a `geosoft.gxpy.vox.Vox` instance.</span>

<span class="sd">        :param vox:         `geosoft.gxpy.vox.Vox` instance</span>
<span class="sd">        :param color_map:   `gxpy.group.Color_map` instance, or the name of a file, which may be</span>
<span class="sd">                            `.tbl`, `.zon`, `.itr`, or `.agg`.</span>
<span class="sd">        :param zone:        Colour distribution method:</span>

<span class="sd">                =================== ==================================================</span>
<span class="sd">                ZONE_DEFAULT        as set by user global default settings</span>
<span class="sd">                ZONE_LINEAR         linearly distributed</span>
<span class="sd">                ZONE_NORMAL         normal (Gaussian) distribution</span>
<span class="sd">                ZONE_EQUALAREA      each color will occupy an equal area on the image</span>
<span class="sd">                ZONE_LOGLINEAR      logarithmic linear distribution</span>
<span class="sd">                ZONE_LAST           last used coloring for this vox</span>
<span class="sd">                =================== ==================================================</span>

<span class="sd">        :param contour:             break colours on even multiples of contour</span>

<span class="sd">        .. versionadded:: 9.3.1</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">voxd</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">vox</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">color_map</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">color_map</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
            <span class="n">color_map</span> <span class="o">=</span> <span class="n">geosoft</span><span class="o">.</span><span class="n">gxpy</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">Color_map</span><span class="p">(</span><span class="n">color_map</span><span class="p">)</span>
        <span class="n">color_map_file</span> <span class="o">=</span> <span class="n">color_map</span><span class="o">.</span><span class="n">save_file</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">contour</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">contour</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">rDUMMY</span>
        <span class="n">voxd</span><span class="o">.</span><span class="n">_gxvoxd</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">GXVOXD</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">vox</span><span class="o">.</span><span class="n">gxvox</span><span class="p">,</span> <span class="n">color_map_file</span><span class="p">,</span> <span class="n">zone</span><span class="p">,</span> <span class="n">contour</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">voxd</span></div>

<div class="viewcode-block" id="VoxDisplay.vector"><a class="viewcode-back" href="../../../geosoft.gxpy.vox_display.html#geosoft.gxpy.vox_display.VoxDisplay.vector">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">vector</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
               <span class="n">vox</span><span class="p">,</span>
               <span class="n">vector_cone_specs</span><span class="o">=</span><span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mi">5000</span><span class="p">),</span>
               <span class="n">color_map</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
               <span class="n">zone</span><span class="o">=</span><span class="n">ZONE_DEFAULT</span><span class="p">,</span>
               <span class="n">contour</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a vector symbol vox_display from a `geosoft.gxpy.vox.Vox` instance.</span>

<span class="sd">        :param vox:                 `geosoft.gxpy.vox.Vox` instance</span>
<span class="sd">        :param vector_cone_specs:   Vector plotting specs</span>
<span class="sd">                                    (scale_cell_ratio, height_base_ratio, base_cell_ratio, max_cones).</span>
<span class="sd">                                    Default is (1., 4., 0.25, 5000). See `vector_cone_specs` property.</span>
<span class="sd">        :param color_map:   `gxpy.group.Color_map` instance, or the name of a file, which may be</span>
<span class="sd">                            `.tbl`, `.zon`, `.itr`, or `.agg`.</span>
<span class="sd">        :param zone:        Colour distribution method:</span>

<span class="sd">            ::</span>

<span class="sd">                ZONE_DEFAULT        as set by user global default settings</span>
<span class="sd">                ZONE_LINEAR         linearly distributed</span>
<span class="sd">                ZONE_NORMAL         normal (Gaussian) distribution</span>
<span class="sd">                ZONE_EQUALAREA      each color will occupy an equal area on the image</span>
<span class="sd">                ZONE_LOGLINEAR      logarithmic linear distribution</span>
<span class="sd">                ZONE_LAST           last used coloring for this vox</span>

<span class="sd">        :param contour:             break colours on even multiples of contour</span>

<span class="sd">        .. versionadded:: 9.3.1</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">vox</span><span class="o">.</span><span class="n">is_vectorvox</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">VoxDisplayException</span><span class="p">(</span><span class="n">_t</span><span class="p">(</span><span class="s1">&#39;vox must be a vectorvoxel to create a vector swarm&#39;</span><span class="p">))</span>
        <span class="n">voxd</span> <span class="o">=</span> <span class="n">VoxDisplay</span><span class="o">.</span><span class="n">solid</span><span class="p">(</span><span class="n">vox</span><span class="p">,</span> <span class="n">color_map</span><span class="p">,</span> <span class="n">zone</span><span class="p">,</span> <span class="n">contour</span><span class="p">)</span>
        <span class="n">voxd</span><span class="o">.</span><span class="n">_vector</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">voxd</span><span class="o">.</span><span class="n">_vector_cone_specs</span> <span class="o">=</span> <span class="n">vector_cone_specs</span>
        <span class="k">return</span> <span class="n">voxd</span></div>

<div class="viewcode-block" id="VoxDisplay.gxapi_gxvoxd"><a class="viewcode-back" href="../../../geosoft.gxpy.vox_display.html#geosoft.gxpy.vox_display.VoxDisplay.gxapi_gxvoxd">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">gxapi_gxvoxd</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">gxapi_voxd</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a VoxDisplay instance from a `geosoft.gxapi.GXVOXD` or a `geosoft.gxapi.GXVECTOR3D` instance.</span>

<span class="sd">        :param gxapi_voxd:  `geosoft.gxapi.VOXD` or `geosoft.gxapi.GXVECTOR3D` instance</span>
<span class="sd">        :param name:        name of the voxel, required for a vector voxel.</span>

<span class="sd">        .. versionadded 9.3.1</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">gxapi_voxd</span><span class="p">,</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">GXVOXD</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">str_ref</span><span class="p">()</span>
                <span class="n">gxapi_voxd</span><span class="o">.</span><span class="n">get_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">VoxDisplayException</span><span class="p">(</span><span class="n">_t</span><span class="p">(</span><span class="s1">&#39;a name is required to open a GXVECTOR3D object&#39;</span><span class="p">))</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">vox</span> <span class="o">=</span> <span class="n">gxvox</span><span class="o">.</span><span class="n">Vox</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">vox</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">name</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">voxd</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">vox</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="n">voxd</span><span class="o">.</span><span class="n">_gxvoxd</span> <span class="o">=</span> <span class="n">gxapi_voxd</span>

        <span class="k">return</span> <span class="n">voxd</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">vox</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; `geosoft.gxpy.vox.Vox` instance&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vox</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; instance name, same as the contained Vox name&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">unit_of_measure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unit of data measurement for the contained vox data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_map</span><span class="o">.</span><span class="n">unit_of_measure</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_vector</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;True if this is a vector style display&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vector</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">vector_cone_specs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Vector plotting specs: (scale_cell_ratio, height_base_ratio, base_cell_ratio, max_cones). Can be set.</span>

<span class="sd">        scale_cell_ratio scales the maximum cone length to the size of the smallest cell. If None, default is 1.</span>

<span class="sd">        height_base_ratio is the ration of the cone height to the base size. If None, default is 4.</span>

<span class="sd">        base_cell_ratio is the maximum base size relative to the minimum cell size. If None, default is 0.25.</span>

<span class="sd">        max_cones is the maximum number of cones to draw. Voxel is decimated to limit the cones. None to plot all</span>
<span class="sd">        cones, though typically this is limited to about 2000 to improve display performance.</span>

<span class="sd">        .. versionadded:: 9.3.1</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vector_cone_specs</span>

    <span class="nd">@vector_cone_specs</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">vector_cone_specs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">specs</span><span class="p">):</span>
        <span class="n">sc</span><span class="p">,</span> <span class="n">hb</span><span class="p">,</span> <span class="n">bc</span><span class="p">,</span> <span class="n">mx</span> <span class="o">=</span> <span class="n">specs</span>
        <span class="k">if</span> <span class="n">sc</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">sc</span> <span class="o">&lt;=</span> <span class="mf">0.</span><span class="p">:</span>
            <span class="n">sc</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="k">if</span> <span class="n">hb</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">hb</span> <span class="o">&lt;=</span> <span class="mf">0.</span><span class="p">:</span>
            <span class="n">hb</span> <span class="o">=</span> <span class="mf">4.</span>
        <span class="k">if</span> <span class="n">bc</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">bc</span> <span class="o">&lt;=</span> <span class="mf">0.</span><span class="p">:</span>
            <span class="n">bc</span> <span class="o">=</span> <span class="mf">0.25</span>
        <span class="k">if</span> <span class="n">mx</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">mx</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mx</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vector_cone_specs</span> <span class="o">=</span> <span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="n">hb</span><span class="p">,</span> <span class="n">bc</span><span class="p">,</span> <span class="n">mx</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">draw_controls</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Vox drawing settings, returned as a tuple:</span>

<span class="sd">        (box_on, opacity, extent) as (boolean, float, (min_x, min_y, min_z, max_x, max_y, max_z))</span>

<span class="sd">        Can be set.</span>

<span class="sd">        .. versionadded:: 9.3.1</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_vector</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

        <span class="n">box</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">int_ref</span><span class="p">()</span>
        <span class="n">trans</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">float_ref</span><span class="p">()</span>
        <span class="n">x0</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">float_ref</span><span class="p">()</span>
        <span class="n">x1</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">float_ref</span><span class="p">()</span>
        <span class="n">y0</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">float_ref</span><span class="p">()</span>
        <span class="n">y1</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">float_ref</span><span class="p">()</span>
        <span class="n">z0</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">float_ref</span><span class="p">()</span>
        <span class="n">z1</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">float_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gxvoxd</span><span class="o">.</span><span class="n">get_draw_controls</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="n">trans</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">z0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">z1</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">box</span><span class="o">.</span><span class="n">value</span><span class="p">),</span> <span class="n">trans</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="n">x0</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">y0</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">z0</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">x1</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">y1</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">z1</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@draw_controls</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">draw_controls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">controls</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_vector</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">VoxDisplayException</span><span class="p">(</span><span class="n">_t</span><span class="p">(</span><span class="s1">&#39;cannot set draw controls for a vector display&#39;</span><span class="p">))</span>
        <span class="n">box</span><span class="p">,</span> <span class="n">trans</span><span class="p">,</span> <span class="n">extent</span> <span class="o">=</span> <span class="n">controls</span>
        <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">z0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">z1</span> <span class="o">=</span> <span class="n">extent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gxvoxd</span><span class="o">.</span><span class="n">set_draw_controls</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="n">trans</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">z0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">z1</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">render_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">rm</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">int_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gxvoxd</span><span class="o">.</span><span class="n">get_render_mode</span><span class="p">(</span><span class="n">rm</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rm</span><span class="o">.</span><span class="n">value</span>

    <span class="nd">@render_mode</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">render_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="n">RENDER_FILL</span><span class="p">,</span> <span class="n">RENDER_EDGE</span><span class="p">,</span> <span class="n">RENDER_FILL_EDGE</span><span class="p">,</span> <span class="n">RENDER_SMOOTH</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">VoxDisplayException</span><span class="p">(</span><span class="n">_t</span><span class="p">(</span><span class="s1">&#39;Invalid render mode </span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mode</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gxvoxd</span><span class="o">.</span><span class="n">set_render_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">gxvoxd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The :class:`geosoft.gxapi.GXVOXD` instance handle, None for a vector display.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gxvoxd</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_thematic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;True if this is a thematic vox display&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_vector</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gxvoxd</span><span class="o">.</span><span class="n">is_thematic</span><span class="p">())</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">opacity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Opacity between 0. (invisible) and 1. (opaque) can be set.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">draw_controls</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="nd">@opacity</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">opacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="n">controls</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">draw_controls</span><span class="p">)</span>
        <span class="n">controls</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">t</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw_controls</span> <span class="o">=</span> <span class="n">controls</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">color_map</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the colour map for this vox&quot;&quot;&quot;</span>
        <span class="n">itr</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">GXITR</span><span class="o">.</span><span class="n">create</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gxvoxd</span><span class="o">.</span><span class="n">get_itr</span><span class="p">(</span><span class="n">itr</span><span class="p">)</span>
        <span class="n">cmap</span> <span class="o">=</span> <span class="n">geosoft</span><span class="o">.</span><span class="n">gxpy</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">Color_map</span><span class="p">(</span><span class="n">itr</span><span class="p">)</span>
        <span class="n">cmap</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vox</span><span class="p">:</span>
            <span class="n">cmap</span><span class="o">.</span><span class="n">unit_of_measure</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vox</span><span class="o">.</span><span class="n">unit_of_measure</span>
        <span class="k">return</span> <span class="n">cmap</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">shell_limits</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The data limits of the visible data shell for scalar data. Can be set.</span>

<span class="sd">        returns: (min, max) limits, data outside this range is transparent, None for no limit</span>

<span class="sd">        .. versionadded 9.3.1</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vmin</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">float_ref</span><span class="p">()</span>
        <span class="n">vmax</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">float_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gxvoxd</span><span class="o">.</span><span class="n">get_shell_controls</span><span class="p">(</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="p">)</span>
        <span class="n">vmin</span> <span class="o">=</span> <span class="n">vmin</span><span class="o">.</span><span class="n">value</span>
        <span class="n">vmax</span> <span class="o">=</span> <span class="n">vmax</span><span class="o">.</span><span class="n">value</span>
        <span class="k">if</span> <span class="n">vmin</span> <span class="o">==</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">rDUMMY</span><span class="p">:</span>
            <span class="n">vmin</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">vmax</span> <span class="o">==</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">rDUMMY</span><span class="p">:</span>
            <span class="n">vmax</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span>

    <span class="nd">@shell_limits</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">shell_limits</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">limits</span><span class="p">):</span>
        <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="n">limits</span>
        <span class="k">if</span> <span class="n">vmin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">vmin</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">rDUMMY</span>
        <span class="k">if</span> <span class="n">vmax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">vmax</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">rDUMMY</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gxvoxd</span><span class="o">.</span><span class="n">set_shell_controls</span><span class="p">(</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="p">)</span>

<div class="viewcode-block" id="VoxDisplay.view_3d"><a class="viewcode-back" href="../../../geosoft.gxpy.vox_display.html#geosoft.gxpy.vox_display.VoxDisplay.view_3d">[docs]</a>    <span class="k">def</span> <span class="nf">view_3d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">plane_2d</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a 3d view (`geosoft.gxpy.view.View_3d`) from the instance.</span>

<span class="sd">        :param file_name:   the name of a file for the 3d view. If None a temporary 3d view created.</span>
<span class="sd">        :param overwrite:   True to overwrite existing file</span>
<span class="sd">        :param plane_2d:    True to keep the 2D plane.  Only keep it if you intend to draw on it otherwise a grey</span>
<span class="sd">                            plane will appear in the view.</span>

<span class="sd">        .. versionadded:: 9.3</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">v3d</span> <span class="o">=</span> <span class="n">gxview</span><span class="o">.</span><span class="n">View_3d</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="n">overwrite</span><span class="p">)</span>
        <span class="n">gxgroup</span><span class="o">.</span><span class="n">VoxDisplayGroup</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">v3d</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">plane_2d</span><span class="p">:</span>
            <span class="n">v3d</span><span class="o">.</span><span class="n">delete_plane</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">v3d</span></div>

<div class="viewcode-block" id="VoxDisplay.figure_map"><a class="viewcode-back" href="../../../geosoft.gxpy.vox_display.html#geosoft.gxpy.vox_display.VoxDisplay.figure_map">[docs]</a>    <span class="k">def</span> <span class="nf">figure_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                   <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">legend_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                   <span class="n">features</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;LEGEND&#39;</span><span class="p">,</span> <span class="s1">&#39;NEATLINE&#39;</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a figure view file from the instance.</span>

<span class="sd">        :param file_name:       the name of a file for the 3d view. If None a temporary 3d view created.</span>
<span class="sd">        :param overwrite:       True to overwrite existing file</span>
<span class="sd">        :param title:           Title added to the image</span>
<span class="sd">        :param legend_label:    If plotting a legend make this the legned title.  The default is the title in the</span>
<span class="sd">                                first aggregate layer colour map.</span>
<span class="sd">        :param features:        list of features to place on the map, default is (&#39;SCALE&#39;, &#39;LEGEND&#39;, &#39;NEATLINE&#39;)</span>

<span class="sd">                                    =========== =========================================</span>
<span class="sd">                                    &#39;LEGEND&#39;    show the colour legend</span>
<span class="sd">                                    &#39;NEATLINE&#39;  draw a neat-line around the image</span>
<span class="sd">                                    =========== =========================================</span>

<span class="sd">        :param kwargs:          passed to `geosoft.gxpy.map.Map.new`</span>

<span class="sd">        .. versionadded:: 9.3</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># uppercase features, use a dict so we pop things we use and report error</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">features</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">features</span> <span class="o">=</span> <span class="p">(</span><span class="n">features</span><span class="p">,)</span>
        <span class="n">feature_list</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">features</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">features</span><span class="p">:</span>
                <span class="n">feature_list</span><span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">upper</span><span class="p">()]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">features</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">feature_list</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

        <span class="c1"># setup margins</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="s1">&#39;margins&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">):</span>

            <span class="n">bottom_margin</span> <span class="o">=</span> <span class="mf">1.0</span>
            <span class="k">if</span> <span class="n">title</span><span class="p">:</span>
                <span class="n">bottom_margin</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">title</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))</span> <span class="o">*</span> <span class="mf">1.0</span>

            <span class="n">right_margin</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="s1">&#39;LEGEND&#39;</span> <span class="ow">in</span> <span class="n">feature_list</span><span class="p">:</span>
                <span class="n">right_margin</span> <span class="o">+=</span> <span class="mf">3.5</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;margins&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">right_margin</span><span class="p">,</span> <span class="n">bottom_margin</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">gmap</span> <span class="o">=</span> <span class="n">gxmap</span><span class="o">.</span><span class="n">Map</span><span class="o">.</span><span class="n">figure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
                                <span class="n">file_name</span><span class="o">=</span><span class="n">file_name</span><span class="p">,</span>
                                <span class="n">features</span><span class="o">=</span><span class="n">features</span><span class="p">,</span>
                                <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
                                <span class="n">overwrite</span><span class="o">=</span><span class="n">overwrite</span><span class="p">,</span>
                                <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">with</span> <span class="n">gxview</span><span class="o">.</span><span class="n">View</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">gmap</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">v</span><span class="p">:</span>

            <span class="k">if</span> <span class="s1">&#39;LEGEND&#39;</span> <span class="ow">in</span> <span class="n">features</span><span class="p">:</span>
                <span class="n">gxgroup</span><span class="o">.</span><span class="n">legend_color_bar</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s1">&#39;legend&#39;</span><span class="p">,</span>
                                         <span class="n">title</span><span class="o">=</span><span class="n">legend_label</span><span class="p">,</span>
                                         <span class="n">location</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                                         <span class="n">cmap</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color_map</span><span class="p">)</span>

        <span class="n">area</span> <span class="o">=</span> <span class="n">gxview</span><span class="o">.</span><span class="n">View</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">gmap</span><span class="p">,</span> <span class="n">gmap</span><span class="o">.</span><span class="n">current_data_view</span><span class="p">)</span><span class="o">.</span><span class="n">extent_map_cm</span><span class="p">()</span>
        <span class="n">area</span> <span class="o">=</span> <span class="p">(</span><span class="n">area</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mf">10.</span><span class="p">,</span> <span class="n">area</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mf">10.</span><span class="p">,</span> <span class="n">area</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mf">10.</span><span class="p">,</span> <span class="n">area</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="mf">10.</span><span class="p">)</span>

        <span class="n">gmap</span><span class="o">.</span><span class="n">create_linked_3d_view</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">view_3d</span><span class="p">(),</span> <span class="n">area_on_map</span><span class="o">=</span><span class="n">area</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">gmap</span></div></div>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Geosoft GX Python API 9.10.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">geosoft.gxpy.vox_display</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Geosoft Inc.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>