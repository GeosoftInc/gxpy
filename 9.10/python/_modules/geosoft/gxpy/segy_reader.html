

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>geosoft.gxpy.segy_reader &#8212; Geosoft GX Python API 9.10.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/maki.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-87443115-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Geosoft GX Python API 9.10.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">geosoft.gxpy.segy_reader</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Introduction</a></li>
    <li><a href="../../index.html">Module code</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for geosoft.gxpy.segy_reader</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Read SEG-Y files into geosoft databases, grids and voxels.</span>
<span class="sd">:Classes:</span>
<span class="sd">    :class:`SegyReader` Reads SEG-Y files and creates Geosoft grids or voxels</span>

<span class="sd">.. versionadded:: 9.9.1</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">geosoft</span>
<span class="kn">import</span> <span class="nn">geosoft.gxapi</span> <span class="k">as</span> <span class="nn">gxapi</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">coordinate_system</span> <span class="k">as</span> <span class="n">coordinate_system</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">vv</span> <span class="k">as</span> <span class="n">gxvv</span>

<span class="n">__version__</span> <span class="o">=</span> <span class="n">geosoft</span><span class="o">.</span><span class="n">__version__</span>

<span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
<span class="kn">import</span> <span class="nn">json</span>


<div class="viewcode-block" id="Endianess"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.Endianess">[docs]</a><span class="k">class</span> <span class="nc">Endianess</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">LITTLE_ENDIAN</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">BIG_ENDIAN</span> <span class="o">=</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="DataType"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.DataType">[docs]</a><span class="k">class</span> <span class="nc">DataType</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">IBM_FLOAT4</span> <span class="o">=</span> <span class="s1">&#39;IBM_float4&#39;</span>
    <span class="n">IEEE_FLOAT4</span> <span class="o">=</span> <span class="s1">&#39;IEEE_float4&#39;</span>
    <span class="n">INT32</span> <span class="o">=</span> <span class="s1">&#39;int32&#39;</span>
    <span class="n">INT16</span> <span class="o">=</span> <span class="s1">&#39;int16&#39;</span>
    <span class="n">INT8</span> <span class="o">=</span> <span class="s1">&#39;int8&#39;</span>

<div class="viewcode-block" id="DataType.from_str"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.DataType.from_str">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_str</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">member</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="nb">str</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">member</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not a valid DataType name&quot;</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="InlineCrosslineSanity"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.InlineCrosslineSanity">[docs]</a><span class="k">class</span> <span class="nc">InlineCrosslineSanity</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">OK</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">MAYBE_SWAPPED</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">ONLY_ONE_LINE</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">UNKNOWN_PROBLEM</span> <span class="o">=</span> <span class="mi">3</span></div>


<div class="viewcode-block" id="ZType"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.ZType">[docs]</a><span class="k">class</span> <span class="nc">ZType</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">DEPTH</span> <span class="o">=</span> <span class="s2">&quot;DEPTH&quot;</span>
    <span class="n">TIME</span> <span class="o">=</span> <span class="s2">&quot;TIME&quot;</span></div>


<div class="viewcode-block" id="FieldMapping"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.FieldMapping">[docs]</a><span class="k">class</span> <span class="nc">FieldMapping</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">Inline</span> <span class="o">=</span> <span class="s2">&quot;INLINE&quot;</span>
    <span class="n">Crossline</span> <span class="o">=</span> <span class="s2">&quot;CROSSLINE&quot;</span>
    <span class="n">X</span> <span class="o">=</span> <span class="s2">&quot;X&quot;</span>
    <span class="n">Y</span> <span class="o">=</span> <span class="s2">&quot;Y&quot;</span></div>


<div class="viewcode-block" id="TraceConfigField"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.TraceConfigField">[docs]</a><span class="k">class</span> <span class="nc">TraceConfigField</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    TODO: Not really finished.</span>

<span class="sd">    After the SEG-Y is scanned, `SegyReader.field_configuration.fields` will contain a</span>
<span class="sd">    list of all the trace header fields that contain nonzero values.</span>

<span class="sd">    The EXPORT_TO_GDB field is used to indicate if the data from this field should be</span>
<span class="sd">    written to the GDB on export. The MAPPING field is used to indicate which fields</span>
<span class="sd">    should be interpreted as inline, crossline, x and y. For 3D SEG-Y files, exactly one</span>
<span class="sd">    field should be set to each of these values. For 2D files, only X and Y apply.</span>

<span class="sd">    The rest of the fields are read-only. I&#39;ve defined the field names for all of them</span>
<span class="sd">    in __INIT__ but some of them are still missing accessors.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="TraceConfigField.__init__"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.TraceConfigField.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ltb</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">index</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ltb</span> <span class="o">=</span> <span class="n">ltb</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_export_to_gdb_field</span> <span class="o">=</span> <span class="n">ltb</span><span class="o">.</span><span class="n">find_field</span><span class="p">(</span><span class="s2">&quot;EXPORT_TO_GDB&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_offset_field</span> <span class="o">=</span> <span class="n">ltb</span><span class="o">.</span><span class="n">find_field</span><span class="p">(</span><span class="s2">&quot;OFFSET&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_datatype_field</span> <span class="o">=</span> <span class="n">ltb</span><span class="o">.</span><span class="n">find_field</span><span class="p">(</span><span class="s2">&quot;FORMAT&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scale_by_field_field</span> <span class="o">=</span> <span class="n">ltb</span><span class="o">.</span><span class="n">find_field</span><span class="p">(</span><span class="s2">&quot;SCALE_BY&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_count_field</span> <span class="o">=</span> <span class="n">ltb</span><span class="o">.</span><span class="n">find_field</span><span class="p">(</span><span class="s2">&quot;COUNT&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_min_field</span> <span class="o">=</span> <span class="n">ltb</span><span class="o">.</span><span class="n">find_field</span><span class="p">(</span><span class="s2">&quot;MIN&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_field</span> <span class="o">=</span> <span class="n">ltb</span><span class="o">.</span><span class="n">find_field</span><span class="p">(</span><span class="s2">&quot;MAX&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scaled_min_field</span> <span class="o">=</span> <span class="n">ltb</span><span class="o">.</span><span class="n">find_field</span><span class="p">(</span><span class="s2">&quot;SCALED_MIN&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scaled_max_field</span> <span class="o">=</span> <span class="n">ltb</span><span class="o">.</span><span class="n">find_field</span><span class="p">(</span><span class="s2">&quot;SCALED_MAX&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_stride_field</span> <span class="o">=</span> <span class="n">ltb</span><span class="o">.</span><span class="n">find_field</span><span class="p">(</span><span class="s2">&quot;STRIDE&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mapping_field</span> <span class="o">=</span> <span class="n">ltb</span><span class="o">.</span><span class="n">find_field</span><span class="p">(</span><span class="s2">&quot;MAPPING&quot;</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">str_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ltb</span><span class="o">.</span><span class="n">get_english_string</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ref</span><span class="o">.</span><span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">export_to_gdb</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">int_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ltb</span><span class="o">.</span><span class="n">get_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_export_to_gdb_field</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">ref</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@export_to_gdb</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">export_to_gdb</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ltb</span><span class="o">.</span><span class="n">set_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_export_to_gdb_field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">min</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">int_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ltb</span><span class="o">.</span><span class="n">get_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_field</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ref</span><span class="o">.</span><span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">int_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ltb</span><span class="o">.</span><span class="n">get_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_field</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ref</span><span class="o">.</span><span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">str_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ltb</span><span class="o">.</span><span class="n">get_english_string</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mapping_field</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FieldMapping</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">member</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="n">ref</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">member</span>

    <span class="nd">@mapping</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapping</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ltb</span><span class="o">.</span><span class="n">set_string</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mapping_field</span><span class="p">,</span> <span class="n">mapping</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></div>


<div class="viewcode-block" id="TraceFieldConfiguration"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.TraceFieldConfiguration">[docs]</a><span class="k">class</span> <span class="nc">TraceFieldConfiguration</span><span class="p">:</span>
<div class="viewcode-block" id="TraceFieldConfiguration.__init__"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.TraceFieldConfiguration.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ltb</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ltb</span> <span class="o">=</span> <span class="n">ltb</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fields</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">ltb</span><span class="o">.</span><span class="n">records</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">TraceConfigField</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ltb</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="SegyReader"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.SegyReader">[docs]</a><span class="k">class</span> <span class="nc">SegyReader</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    TODO: The GXSEGYREADER GetTiePoint and SetTiePoint functions are important and</span>
<span class="sd">    don&#39;t have wrappers yet. Also, none of the filtering functionality is implemented.</span>


<span class="sd">    Reads a SEG-Y file and can generate Geosoft database, grid or voxel files from it.</span>

<span class="sd">    For many SEG-Y files, the following is all that&#39;s needed to use this class::</span>

<span class="sd">    .. code::</span>

<span class="sd">        &gt;&gt;&gt; import geosoft.gxpy.segy_reader as gxsegy</span>
<span class="sd">        &gt;&gt;&gt; segy = gxsegy.SegyReader(&#39;c:/data/example.segy&#39;)</span>
<span class="sd">        &gt;&gt;&gt; segy.export_file(gdb=&#39;c:/data/output.gdb&#39;)</span>

<span class="sd">    Unfortunately, some SEG-Y files will require some configuration before they can be</span>
<span class="sd">    read properly. TODO: more documentation once the API is finalized.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="SegyReader.__init__"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.SegyReader.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">is3d</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">endianess</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the SegyReader object and do a quick initial scan of the SEG-Y file.</span>

<span class="sd">        :param filename:   The name of the SEG-Y file to read</span>
<span class="sd">        :param is3d        True is the SEG-Y file is 3D, False if the file is 2D. If this</span>
<span class="sd">                           parameter is not specified, the reader will attempt to</span>
<span class="sd">                           automatically determine if the file is 2D or 3D.</span>
<span class="sd">        :param endianess:  Endianess.LITTLE_ENDIAN or Endianess.BIG_ENDIAN, specifying</span>
<span class="sd">                           the endianess (byte order) of the SEG-Y file. Defaults to big-</span>
<span class="sd">                           endian which is correct for most SEG-Y files.</span>

<span class="sd">        The new SegyReader object will read the first part of the SEG-Y file and attempt</span>
<span class="sd">        to determine the correct configuration. Most of the methods for this class are for</span>
<span class="sd">        querying and modifying that configuration.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">GXSEGYREADER</span><span class="o">.</span><span class="n">open_file</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">endianess</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_endianess</span><span class="p">(</span><span class="n">endianess</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is3d</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_is_3d</span><span class="p">(</span><span class="n">is3d</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_trace_data_type_names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_num_trace_data_types</span><span class="p">()):</span>
            <span class="n">name_ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">str_ref</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_trace_data_type_name</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">name_ref</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_trace_data_type_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name_ref</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

        <span class="n">unit_list_ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">str_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_possible_z_units</span><span class="p">(</span><span class="n">unit_list_ref</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_z_units_list</span> <span class="o">=</span> <span class="n">unit_list_ref</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">splitlines</span><span class="p">(</span><span class="n">keepends</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_scan_completed</span> <span class="o">=</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="SegyReader.scan_file"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.SegyReader.scan_file">[docs]</a>    <span class="k">def</span> <span class="nf">scan_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">scan_file</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scan_completed</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_is_3d</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_sane_inline_crossline</span><span class="p">()</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">georeferencing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;A :class:`geosoft.gxpy.coordinate_system.Coordinate_system` object containing</span>
<span class="sd">        the coordinate system for the SEG-Y file and the generated output files.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">coordinate_system</span><span class="o">.</span><span class="n">Coordinate_system</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_georeferencing</span><span class="p">())</span>

    <span class="nd">@georeferencing</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">georeferencing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">georef_object</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_georeferencing</span><span class="p">(</span><span class="n">georef_object</span><span class="o">.</span><span class="n">gxipj</span><span class="p">)</span>

<div class="viewcode-block" id="SegyReader.export_files"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.SegyReader.export_files">[docs]</a>    <span class="k">def</span> <span class="nf">export_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Export the data in the SEG-Y file to the specified Geosoft files.</span>

<span class="sd">        What files are output depend on the keyword arguments::</span>

<span class="sd">        :param gdb:              The filename of the Geosoft database file to export to.</span>
<span class="sd">                                 If this parameter is not specified, then no database is</span>
<span class="sd">                                 output.</span>
<span class="sd">        :param voxel:            The filename of the Geosoft voxel file to export to.</span>
<span class="sd">                                 Only valid for 3D SEG-Y files. If this option is not</span>
<span class="sd">                                 specified, then no voxel file is output.</span>
<span class="sd">        :param slice_prefix:     The base path and filename for slice grids. If this</span>
<span class="sd">                                 argument is specified, then at least one of </span>
<span class="sd">                                 `inline_slices`, `crossline_slices` or z_slices` must</span>
<span class="sd">                                 also be specified.</span>
<span class="sd">        :param inline_slices:    An array-like containing the inline coordinates for slice</span>
<span class="sd">                                 grids. If this argument is specified then, for each</span>
<span class="sd">                                 coordinate in the list a geosoft grid file is generated</span>
<span class="sd">                                 from the slice of the SEG-Y volume with that inline</span>
<span class="sd">                                 coordinate. The filename will consist of `slice_prefix`</span>
<span class="sd">                                 folowed by &quot;_IL???.grd&quot; where ??? is the inline</span>
<span class="sd">                                 coordinate. Only valid for 3D SEG-Y files.</span>
<span class="sd">        :param crossline_slices: An array-like containing the crossline coordinates for </span>
<span class="sd">                                 slice grids. If this argument is specified then, for each</span>
<span class="sd">                                 coordinate in the list a geosoft grid file is generated</span>
<span class="sd">                                 from the slice of the SEG-Y volume with that crossline</span>
<span class="sd">                                 coordinate. The filename will consist of `slice_prefix`</span>
<span class="sd">                                 folowed by &quot;_XL???.grd&quot; where ??? is the crossline</span>
<span class="sd">                                 coordinate. Only valid for 3D SEG-Y files.</span>
<span class="sd">        :param z_slices:         An array-like containing the trace index for slice</span>
<span class="sd">                                 grids. If this argument is specified then, for coordinate</span>
<span class="sd">                                 in the list a geosoft grid file is generated by taking</span>
<span class="sd">                                 the element at that index in the trace data for each</span>
<span class="sd">                                 trace. The filename will consist of `slice_prefix`</span>
<span class="sd">                                 folowed by &quot;_Z???.grd&quot; where ??? is the z coordinate.</span>
<span class="sd">                                 (The parameter values are array indices (0, for the top</span>
<span class="sd">                                 of the volumne, 1 for the next slice down, etc.) but the</span>
<span class="sd">                                 number in the file name is the z-coordinate in physical</span>
<span class="sd">                                 units (e.g. feet, metres, etc,)) Only</span>
<span class="sd">                                 valid for 3D SEG-Y files.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">validate_kwargs</span><span class="p">(</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="k">if</span> <span class="s1">&#39;gdb&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="s1">&#39;voxel&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="s1">&#39;slice_prefix&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;inline_slices&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">return</span> <span class="kc">True</span>
                <span class="k">if</span> <span class="s1">&#39;crossline_slices&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">return</span> <span class="kc">True</span>
                <span class="k">if</span> <span class="s1">&#39;z_slices&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">return</span> <span class="kc">True</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;No output files configured&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scan_completed</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scan_file</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;gdb&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_gdb_output_filename</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;voxel&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_voxel_output_filename</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;slice_prefix&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_slice_output_prefix</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;inline_slices&#39;</span><span class="p">:</span>
                <span class="n">indices_vv</span> <span class="o">=</span> <span class="n">gxvv</span><span class="o">.</span><span class="n">GXvv</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">gxvv</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_inline_slice_indices</span><span class="p">(</span><span class="n">indices_vv</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;crossline_slices&#39;</span><span class="p">:</span>
                <span class="n">indices_vv</span> <span class="o">=</span> <span class="n">gxvv</span><span class="o">.</span><span class="n">GXvv</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">gxvv</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_crossline_slice_indices</span><span class="p">(</span><span class="n">indices_vv</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;z_slices&#39;</span><span class="p">:</span>
                <span class="n">indices_vv</span> <span class="o">=</span> <span class="n">gxvv</span><span class="o">.</span><span class="n">GXvv</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">gxvv</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_z_slice_indices</span><span class="p">(</span><span class="n">indices_vv</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Unexpected keyword argument: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">export_files</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">_check_sane_inline_crossline</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">is_sane_ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">bool_ref</span><span class="p">()</span>
        <span class="n">possibly_swapped_ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">bool_ref</span><span class="p">()</span>
        <span class="n">only_one_line_ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">bool_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">check_sane_inline_crossline</span><span class="p">(</span>
            <span class="n">is_sane_ref</span><span class="p">,</span> <span class="n">possibly_swapped_ref</span><span class="p">,</span> <span class="n">only_one_line_ref</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_sane_ref</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">InlineCrosslineSanity</span><span class="o">.</span><span class="n">OK</span>
        <span class="k">elif</span> <span class="n">possibly_swapped_ref</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">InlineCrosslineSanity</span><span class="o">.</span><span class="n">MAYBE_SWAPPED</span>
        <span class="k">elif</span> <span class="n">only_one_line_ref</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">InlineCrosslineSanity</span><span class="o">.</span><span class="n">ONLY_ONE_LINE</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">InlineCrosslineSanity</span><span class="o">.</span><span class="n">UNKNOWN_PROBLEM</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">text_header</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The text header from the SEG-Y file as a string.</span>

<span class="sd">        This is human-readable text and often usefull for configuring the reader.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">str_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_text_header</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">binary_header</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The contents of the SEG-Y binary header, as a dictionary. Usefull for diagnostic</span>
<span class="sd">        purposes.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">ltb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_binary_header</span><span class="p">()</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">record_num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">ltb</span><span class="o">.</span><span class="n">records</span><span class="p">()):</span>
            <span class="n">field_name</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">str_ref</span><span class="p">()</span>
            <span class="n">ltb</span><span class="o">.</span><span class="n">get_english_string</span><span class="p">(</span><span class="n">record_num</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">field_name</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">field_name</span><span class="o">.</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="n">ltb</span><span class="o">.</span><span class="n">get_int</span><span class="p">(</span><span class="n">record_num</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

<div class="viewcode-block" id="SegyReader.get_trace_header"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.SegyReader.get_trace_header">[docs]</a>    <span class="k">def</span> <span class="nf">get_trace_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trace_number</span><span class="p">):</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">str_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_trace_header_as_json</span><span class="p">(</span><span class="n">trace_number</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">ref</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="SegyReader.get_trace_data"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.SegyReader.get_trace_data">[docs]</a>    <span class="k">def</span> <span class="nf">get_trace_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trace_number</span><span class="p">):</span>
        <span class="n">vv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_trace_data</span><span class="p">(</span><span class="n">trace_number</span><span class="p">)</span>
        <span class="c1"># It seems like ther should be an easier and more efficient way to</span>
        <span class="c1"># create a gxpy.vv from a gxapi.vv, but if there is I can&#39;t find it.</span>
        <span class="k">return</span> <span class="n">gxvv</span><span class="o">.</span><span class="n">GXvv</span><span class="p">(</span><span class="n">vv</span><span class="o">.</span><span class="n">get_data_array</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">vv</span><span class="o">.</span><span class="n">length</span><span class="p">(),</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">GS_DOUBLE</span><span class="p">))</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">trace_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The number of elements in each trace.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_trace_length</span><span class="p">()</span>

    <span class="nd">@trace_length</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">trace_length</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_trace_length_configuration</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

<div class="viewcode-block" id="SegyReader.get_trace_length_from_file_header"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.SegyReader.get_trace_length_from_file_header">[docs]</a>    <span class="k">def</span> <span class="nf">get_trace_length_from_file_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Specify that `trace_length` should be set to the value from the specified</span>
<span class="sd">        byte offset in the binary file header.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_trace_length_configuration</span><span class="p">(</span>
            <span class="s1">&#39;file_header&#39;</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span></div>

<div class="viewcode-block" id="SegyReader.get_trace_length_from_trace_header"><a class="viewcode-back" href="../../../geosoft.gxpy.segy_reader.html#geosoft.gxpy.segy_reader.SegyReader.get_trace_length_from_trace_header">[docs]</a>    <span class="k">def</span> <span class="nf">get_trace_length_from_trace_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Specify that `trace_length` should be set to the value from the specified</span>
<span class="sd">        byte offset in the binary trace header.</span>

<span class="sd">        Even when this setting is used, the SEG-Y reader still requires that all traces</span>
<span class="sd">        be the same length.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_trace_length_configuration</span><span class="p">(</span>
            <span class="s1">&#39;trace_header&#39;</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">trace_data_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The data type of the trace data in the SEG-Y file. Specified using one of the</span>
<span class="sd">        constants defined in the `DataType` Enum.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">str_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_trace_data_type</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">DataType</span><span class="o">.</span><span class="n">from_str</span><span class="p">(</span><span class="n">ref</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@trace_data_type</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">trace_data_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span> <span class="n">DataType</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Expected DataType instance.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_trace_data_type</span><span class="p">(</span><span class="n">data_type</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">trace_sample_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The interval between successive values in the trace data.</span>
<span class="sd">        E.g. microseconds or millimetres.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">float_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_sample_interval</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ref</span><span class="o">.</span><span class="n">value</span>

    <span class="nd">@trace_sample_interval</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">trace_sample_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_sample_interval_configuration</span><span class="p">(</span>
            <span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">z_units</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The units used for `trace_sample_interval`&quot;&quot;&quot;</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">str_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_z_units</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ref</span><span class="o">.</span><span class="n">value</span>

    <span class="nd">@z_units</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">z_units</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_z_units_list</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported Z units&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_z_units</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">z_offset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The Z-coordinate of the start (top) of each trace&quot;&quot;&quot;</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">float_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_z_offset</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ref</span><span class="o">.</span><span class="n">value</span>

    <span class="nd">@z_offset</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">z_offset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_z_offset_configuration</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">z_offset_units</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The units used for `z_offset`&quot;&quot;&quot;</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">str_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_z_offset_units</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ref</span><span class="o">.</span><span class="n">value</span>

    <span class="nd">@z_offset_units</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">z_offset_units</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_z_units_list</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported Z units&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_z_offset_units</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">xy_units</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The horizontal units or the SEG_Y&quot;&quot;&quot;</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">str_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_xy_units</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ref</span><span class="o">.</span><span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_depth_or_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The &quot;type&quot; of z-units: either ZType.DEPTH or ZType.TIME.&quot;&quot;&quot;</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">str_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_z_type</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ZType</span><span class="p">[</span><span class="n">ref</span><span class="o">.</span><span class="n">value</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">trace_range</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The depth of the top and bottom of the traces.&quot;&quot;&quot;</span>
        <span class="n">top</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">z_offset</span>
        <span class="n">bottom_ref</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">float_ref</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_last_sample_at</span><span class="p">(</span><span class="n">bottom_ref</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">bottom_ref</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">field_configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scan_completed</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scan_file</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">TraceFieldConfiguration</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">get_field_configuration</span><span class="p">())</span>

    <span class="nd">@field_configuration</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">field_configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_configuration</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span><span class="o">.</span><span class="n">set_field_configuration</span><span class="p">(</span><span class="n">field_configuration</span><span class="o">.</span><span class="n">_ltb</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_type</span><span class="p">,</span> <span class="n">_value</span><span class="p">,</span> <span class="n">_traceback</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="fm">__del__</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gx_segy_reader</span> <span class="o">=</span> <span class="kc">None</span></div>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Geosoft GX Python API 9.10.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">geosoft.gxpy.segy_reader</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Geosoft Inc.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>