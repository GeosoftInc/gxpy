

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>geosoft.gxpy.grid_utility submodule &#8212; Geosoft GX Python API 2021.2.0 documentation</title>
    <link rel="stylesheet" href="_static/maki.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-87443115-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">Geosoft GX Python API 2021.2.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">geosoft.gxpy.grid_utility submodule</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/geosoft.gxpy.grid_utility.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-geosoft.gxpy.grid_utility">
<span id="geosoft-gxpy-grid-utility-submodule"></span><h1>geosoft.gxpy.grid_utility submodule<a class="headerlink" href="#module-geosoft.gxpy.grid_utility" title="Permalink to this headline">¶</a></h1>
<p>Geosoft grid and image utilities.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="geosoft.gxpy.grid.html#module-geosoft.gxpy.grid" title="geosoft.gxpy.grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.grid</span></code></a>, <a class="reference internal" href="GXIMG.html#geosoft.gxapi.GXIMG" title="geosoft.gxapi.GXIMG"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxapi.GXIMG</span></code></a>, <a class="reference internal" href="GXIMU.html#geosoft.gxapi.GXIMU" title="geosoft.gxapi.GXIMU"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxapi.GXIMU</span></code></a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Regression tests provide usage examples:     
<a class="reference external" href="https://github.com/GeosoftInc/gxpy/blob/master/geosoft/gxpy/tests/test_grid_utility.py">Tests</a></p>
</div>
<dl class="py exception">
<dt id="geosoft.gxpy.grid_utility.GridUtilityException">
<em class="property">exception </em><code class="sig-name descname">GridUtilityException</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geosoft/gxpy/grid_utility.html#GridUtilityException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geosoft.gxpy.grid_utility.GridUtilityException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">geosoft.GXRuntimeError</span></code></p>
<p>Exceptions from <a class="reference internal" href="#module-geosoft.gxpy.grid_utility" title="geosoft.gxpy.grid_utility"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.grid_utility</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 9.4.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="geosoft.gxpy.grid_utility.calculate_slope_standard_deviation">
<code class="sig-name descname">calculate_slope_standard_deviation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geosoft/gxpy/grid_utility.html#calculate_slope_standard_deviation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geosoft.gxpy.grid_utility.calculate_slope_standard_deviation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the standard deviation of the slopes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>grid</strong> – <a class="reference internal" href="geosoft.gxpy.grid.html#geosoft.gxpy.grid.Grid" title="geosoft.gxpy.grid.Grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.grid.Grid</span></code></a> instance, or a grid file name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Standard deviation of grid slopes</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method calculates the standard deviation of the horizontal
differences in the X and Y directions for the supplied
image.  This is useful for shading routines.  A good
default scaling factor is 2.5 / standard deviation.</p>
<p>The image will be sub-sampled to a statistically meaningful number.</p>
<p>The cell sizes are used to determine the slopes.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 9.4.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="geosoft.gxpy.grid_utility.contour_points">
<code class="sig-name descname">contour_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grid</span></em>, <em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">max_segments</span><span class="o">=</span><span class="default_value">1000</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">return_as</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">gdb</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">overwrite</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geosoft/gxpy/grid_utility.html#contour_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geosoft.gxpy.grid_utility.contour_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a set of point segments that represent the spatial locations of contours threaded through the grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> – grid file of <a class="reference internal" href="geosoft.gxpy.grid.html#geosoft.gxpy.grid.Grid" title="geosoft.gxpy.grid.Grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.grid.Grid</span></code></a> instance</p></li>
<li><p><strong>value</strong> – contour value</p></li>
<li><p><strong>max_segments</strong> – maximum expected number of segments, raises error if there are more actual segments.</p></li>
<li><p><strong>resolution</strong> – the separation between points along the contours. If not specified the minimum
grid cell size is used.  Set <code class="xref py py-obj docutils literal notranslate"><span class="pre">resolution=0</span></code>, for use the locations as returned by the
contouring algorithm.</p></li>
<li><p><strong>return_as</strong> – <p>return results as:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>RETURN_PPOINT</p></td>
<td><p>return results as a single <a class="reference internal" href="geosoft.gxpy.geometry.html#geosoft.gxpy.geometry.PPoint" title="geosoft.gxpy.geometry.PPoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.geometry.PPoint</span></code></a> instance</p></td>
</tr>
<tr class="row-even"><td><p>RETURN_LIST_OF_PPOINT</p></td>
<td><p>return results as a list of <a class="reference internal" href="geosoft.gxpy.geometry.html#geosoft.gxpy.geometry.PPoint" title="geosoft.gxpy.geometry.PPoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.geometry.PPoint</span></code></a> instances</p></td>
</tr>
<tr class="row-odd"><td><p>RETURN_GDB</p></td>
<td><p>return result as a <a class="reference internal" href="geosoft.gxpy.gdb.html#geosoft.gxpy.gdb.Geosoft_gdb" title="geosoft.gxpy.gdb.Geosoft_gdb"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.gdb.Geosoft_gdb</span></code></a> instance</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>gdb</strong> – return database name, or a <code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.gdv.Geosoft_database</span></code> instance. If not
specified and <code class="xref py py-obj docutils literal notranslate"><span class="pre">return_as=RETURN_GDB</span></code>, a temporary database is created.</p></li>
<li><p><strong>overwrite</strong> – <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> to overwrite gdb if it exists.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>depends on <code class="xref py py-obj docutils literal notranslate"><span class="pre">return_as</span></code> setting</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Contours through 3D oriented grids will be oriented in 3D. Grids that are not 3D oriented
will have a z value 0.0.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 9.4.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="geosoft.gxpy.grid_utility.derivative">
<code class="sig-name descname">derivative</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grid</span></em>, <em class="sig-param"><span class="n">derivative_type</span></em>, <em class="sig-param"><span class="n">file_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">overwrite</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fft</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geosoft/gxpy/grid_utility.html#derivative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geosoft.gxpy.grid_utility.derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a derivative of a grid or a tilt-angle</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> – <a class="reference internal" href="geosoft.gxpy.grid.html#geosoft.gxpy.grid.Grid" title="geosoft.gxpy.grid.Grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.grid.Grid</span></code></a> instance, or a file name</p></li>
<li><p><strong>derivative_type</strong> – <p>Which derivative to calculate, (grid_data_uom/distance):</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>DERIVATIVE_X</p></td>
<td><p>in the grid X direction</p></td>
</tr>
<tr class="row-even"><td><p>DERIVATIVE_Y</p></td>
<td><p>in the grid Y direction</p></td>
</tr>
<tr class="row-odd"><td><p>DERIVATIVE_Z</p></td>
<td><p>in the grid Z direction</p></td>
</tr>
<tr class="row-even"><td><p>DERIVATIVE_XYZ</p></td>
<td><p>the total derivative sqrt(dx**2 + dy**2 + dz**2) (analytic signal)</p></td>
</tr>
<tr class="row-odd"><td><p>TILT_ANGLE</p></td>
<td><p>tilt angle, atan2(dz, sqrt(dx**2 + dy**2)) (radians)</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>file_name</strong> – returned derivative file name, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> for a temporary file</p></li>
<li><p><strong>overwrite</strong> – True to overwrite existing file</p></li>
<li><p><strong>dtype</strong> – dtype for the return grid, default is the same as the passed grid.</p></li>
<li><p><strong>fft</strong> – <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code> calculate Z derivative with a space-domain convolution rather than an FFT.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="geosoft.gxpy.grid.html#geosoft.gxpy.grid.Grid" title="geosoft.gxpy.grid.Grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.grid.Grid</span></code></a> instance that contains the derivative result</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Derivative units_of_measure are grid_unit_of_measure / distance, except for the tilt angle,
which is radians.</p>
<p>Horizontal derivatives are calculated in the space domain based on the difference between
neighboring cell values, and the Z derivative can be calculated using an FFT or a 5x5 space-domain
convolution.  An FFT calculation will generally produce a better result and it will be able to
work with longer wavelengths, but at the expense of speed and edge effects in cases of very powerful
anomalies along the edge of a grid.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="geosoft.gxpy.grid_utility.expression">
<code class="sig-name descname">expression</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grids</span></em>, <em class="sig-param"><span class="n">expr</span></em>, <em class="sig-param"><span class="n">result_file_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">overwrite</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geosoft/gxpy/grid_utility.html#expression"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geosoft.gxpy.grid_utility.expression" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply an expressing to grids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grids</strong> – dictionary of named grid operands, or a list of grids (see example below). If a list
is provided the operand names will be ‘g1’, ‘g2’, ‘g3’, etc…</p></li>
<li><p><strong>expr</strong> – expression string to apply, conforms to Python/C math expression syntax. The expression
can have multiple lines, each line terminated by a ‘;’ character.</p></li>
<li><p><strong>result_file_name</strong> – optional result grid file name, if <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> a temporary grid is created.</p></li>
<li><p><strong>overwrite</strong> – True to overwrite existing grid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Grid</span></code> instance that contains the resuilt of the expression.</p>
</dd>
</dl>
<p><em>Example</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geosoft.gxpy.grid</span> <span class="k">as</span> <span class="nn">gxgrd</span>

<span class="c1"># add using file names</span>
<span class="nb">sum</span> <span class="o">=</span> <span class="n">gxgrd</span><span class="o">.</span><span class="n">expression</span><span class="p">((</span><span class="s1">&#39;some_grid&#39;</span><span class="p">,</span> <span class="s1">&#39;some_other_grid&#39;</span><span class="p">),</span> <span class="s1">&#39;g1+g2&#39;</span><span class="p">)</span>

<span class="c1"># add using Grid instances</span>
<span class="n">grid_1</span> <span class="o">=</span> <span class="n">gxgrd</span><span class="o">.</span><span class="n">Grid</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;some_grid&#39;</span><span class="p">)</span>
<span class="n">grid_2</span> <span class="o">=</span> <span class="n">gxgrd</span><span class="o">.</span><span class="n">Grid</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;some_other_grid&#39;</span><span class="p">)</span>
<span class="nb">sum</span> <span class="o">=</span> <span class="n">gxgrd</span><span class="o">.</span><span class="n">expression</span><span class="p">((</span><span class="n">grid_1</span><span class="p">,</span> <span class="n">grid_2</span><span class="p">),</span> <span class="s1">&#39;g1+g2&#39;</span><span class="p">)</span>

<span class="c1"># add using named operands</span>
<span class="nb">sum</span> <span class="o">=</span> <span class="n">gxgrd</span><span class="o">.</span><span class="n">expression</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="n">grid_1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="n">grid_2</span><span class="p">},</span> <span class="s1">&#39;a+b&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="geosoft.gxpy.grid_utility.feather">
<code class="sig-name descname">feather</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grid</span></em>, <em class="sig-param"><span class="n">width</span></em>, <em class="sig-param"><span class="n">edge_value</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">file_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">overwrite</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geosoft/gxpy/grid_utility.html#feather"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geosoft.gxpy.grid_utility.feather" title="Permalink to this definition">¶</a></dt>
<dd><p>Feather the edge of a grid to a constant value at the edge.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> – <a class="reference internal" href="geosoft.gxpy.grid.html#geosoft.gxpy.grid.Grid" title="geosoft.gxpy.grid.Grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.grid.Grid</span></code></a> instance, or a file name</p></li>
<li><p><strong>file_name</strong> – feathered grid file name, temporary created if <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>overwrite</strong> – <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> to overwrite existing file</p></li>
<li><p><strong>width</strong> – feather width in cells around the grid, must be &lt;= half the grid dimension</p></li>
<li><p><strong>edge_value</strong> – edge value, default is the data mean</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>feathered grid <a class="reference internal" href="geosoft.gxpy.grid.html#geosoft.gxpy.grid.Grid" title="geosoft.gxpy.grid.Grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.grid.Grid</span></code></a></p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 9.4.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="geosoft.gxpy.grid_utility.flood">
<code class="sig-name descname">flood</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grid</span></em>, <em class="sig-param"><span class="n">file_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">overwrite</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">tolerance</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_iterations</span><span class="o">=</span><span class="default_value">250</span></em>, <em class="sig-param"><span class="n">pass_tol</span><span class="o">=</span><span class="default_value">99.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geosoft/gxpy/grid_utility.html#flood"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geosoft.gxpy.grid_utility.flood" title="Permalink to this definition">¶</a></dt>
<dd><p>Flood blank areas in a grid based on a minimum-curvature surface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> – <a class="reference internal" href="geosoft.gxpy.grid.html#geosoft.gxpy.grid.Grid" title="geosoft.gxpy.grid.Grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.grid.Grid</span></code></a> instance, or a grid file name</p></li>
<li><p><strong>file_name</strong> – flooded grid file name, temporary created if <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>overwrite</strong> – <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> to overwrite existing file</p></li>
<li><p><strong>tolerance</strong> – data fit tolerance, default is 0.001 times the data standard deviation</p></li>
<li><p><strong>max_iterations</strong> – maximum iterations for fiting the surface</p></li>
<li><p><strong>pass_tol</strong> – percentage of data that needs to pass the tolerance test when definint
the minimum-curfacture surface. The default is 99%.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="geosoft.gxpy.grid.html#geosoft.gxpy.grid.Grid" title="geosoft.gxpy.grid.Grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.grid.Grid</span></code></a> instance of a flooded grid.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="geosoft.gxpy.grid.html#geosoft.gxpy.grid.Grid.minimum_curvature" title="geosoft.gxpy.grid.Grid.minimum_curvature"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.grid.Grid.minimum_curvature</span></code></a></p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 9.4.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="geosoft.gxpy.grid_utility.grid_bool">
<code class="sig-name descname">grid_bool</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">g1</span></em>, <em class="sig-param"><span class="n">g2</span></em>, <em class="sig-param"><span class="n">joined_grid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">opt</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">size</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">olap</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geosoft/gxpy/grid_utility.html#grid_bool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geosoft.gxpy.grid_utility.grid_bool" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine two grids into a single grid, with boolean logic to determine the result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>g1</strong> – Grids to merge</p></li>
<li><p><strong>g2</strong> – </p></li>
<li><p><strong>joined_grid</strong> – joined output grid name, overwritten if it exists. Default makes a temporary grid.</p></li>
<li><p><strong>opt</strong> – <p>option logic to determine output grid points:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 38%" />
<col style="width: 63%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>BOOL_AND</p></td>
<td><p>blank unless g1 and g2</p></td>
</tr>
<tr class="row-even"><td><p>BOOL_OR</p></td>
<td><p>blank unless g1 or g2</p></td>
</tr>
<tr class="row-odd"><td><p>BOOL_XOR</p></td>
<td><p>blank where g1 and g2</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>size</strong> – <p>size of the output grid, default is minimum size</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>BOOL_SIZE_GRID1</p></td>
<td><p>output size matches g1</p></td>
</tr>
<tr class="row-even"><td><p>BOOL_SIZE_GRID2</p></td>
<td><p>output size matches g2</p></td>
</tr>
<tr class="row-odd"><td><p>BOOL_SIZE_MIN</p></td>
<td><p>output size minimised to non-blank area</p></td>
</tr>
<tr class="row-even"><td><p>BOOL_SIZE_MAX</p></td>
<td><p>output size g1 + g2:</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>olap</strong> – <p>what to do with overlapping valid points, default uses grid 1</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 37%" />
<col style="width: 63%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>BOOL_OVERLAP_AVERAGE</p></td>
<td><p>averave values where grids overlap</p></td>
</tr>
<tr class="row-even"><td><p>BOOL_OVERLAP_GRID1</p></td>
<td><p>use g1 where grids overlap</p></td>
</tr>
<tr class="row-odd"><td><p>BOOL_OVERLAP_GRID2</p></td>
<td><p>use g2 where grids overlap</p></td>
</tr>
</tbody>
</table>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Grid</span></code> instance of the merged output grid, must be closed with a call to close().</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the grid coordinate systems differ, g2 is reprojected to the
coordinate system og g1.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 9.4.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="geosoft.gxpy.grid_utility.grid_mosaic">
<code class="sig-name descname">grid_mosaic</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mosaic</span></em>, <em class="sig-param"><span class="n">grid_list</span></em>, <em class="sig-param"><span class="n">type_decorate</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geosoft/gxpy/grid_utility.html#grid_mosaic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geosoft.gxpy.grid_utility.grid_mosaic" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine a set of grids into a single grid.  Raises an error if the resulting grid is too large.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mosaic</strong> – name of the output grid, returned.  Decorate with ‘(HGD)’ to get an HGD</p></li>
<li><p><strong>grid_list</strong> – list of input grid names</p></li>
<li><p><strong>type_decorate</strong> – decoration for input grids if not default</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="geosoft.gxpy.grid.html#geosoft.gxpy.grid.Grid" title="geosoft.gxpy.grid.Grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.grid.Grid</span></code></a> instance</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the coordinate systems are different the grids are
reprojected to the coordinate system of the first grid.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 9.4.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="geosoft.gxpy.grid_utility.remove_trend">
<code class="sig-name descname">remove_trend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grid</span></em>, <em class="sig-param"><span class="n">file_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">overwrite</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geosoft/gxpy/grid_utility.html#remove_trend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geosoft.gxpy.grid_utility.remove_trend" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate a polynomial trend surface and return trend-removed grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> – <a class="reference internal" href="geosoft.gxpy.grid.html#geosoft.gxpy.grid.Grid" title="geosoft.gxpy.grid.Grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.grid.Grid</span></code></a> instance, or a file name</p></li>
<li><p><strong>file_name</strong> – trend-removed grid file name, if <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> a temporary grid is created.</p></li>
<li><p><strong>method</strong> – base trend on <code class="xref py py-obj docutils literal notranslate"><span class="pre">TREND_EDGE</span></code> for edge data or <code class="xref py py-obj docutils literal notranslate"><span class="pre">TREND_ALL</span></code> for all data</p></li>
<li><p><strong>overwrite</strong> – True to overwrite existing file_name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Grid</span></code> instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="geosoft.gxpy.grid_utility.sample">
<code class="sig-name descname">sample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grid</span></em>, <em class="sig-param"><span class="n">xyz</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geosoft/gxpy/grid_utility.html#sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geosoft.gxpy.grid_utility.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Return grid values sampled at the point locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> – <a class="reference internal" href="geosoft.gxpy.grid.html#geosoft.gxpy.grid.Grid" title="geosoft.gxpy.grid.Grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.grid.Grid</span></code></a> instance or a grid file name.</p></li>
<li><p><strong>xyz</strong> – <a class="reference internal" href="geosoft.gxpy.geometry.html#geosoft.gxpy.geometry.PPoint" title="geosoft.gxpy.geometry.PPoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.geometry.PPoint</span></code></a> instance, or a numpy array shapped (-1, 3) that holds
the desired (x, y, z) locations. If a PPoint instance is passed it will be reporjected to the
grid coordinate system if necessary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>1-dimensional numpy array of grid data values that match the passes PPoint or XYZ.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sampled data values use linear interpolation between grid points.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 9.1.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="geosoft.gxpy.grid_utility.tilt_depth">
<code class="sig-name descname">tilt_depth</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grid</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">return_as</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">gdb</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">overwrite</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">fft</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geosoft/gxpy/grid_utility.html#tilt_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geosoft.gxpy.grid_utility.tilt_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Return estimate of the depth sources of potential filed anomalies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> – <a class="reference internal" href="geosoft.gxpy.grid.html#geosoft.gxpy.grid.Grid" title="geosoft.gxpy.grid.Grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.grid.Grid</span></code></a> instance or a grid file name. Ideally the grid should be RTP.</p></li>
<li><p><strong>resolution</strong> – zero-contour sampling resolution, defaults to 4 times the grid cell size.</p></li>
<li><p><strong>return_as</strong> – <p>return results as:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>RETURN_PPOINT</p></td>
<td><p>return results as a single <a class="reference internal" href="geosoft.gxpy.geometry.html#geosoft.gxpy.geometry.PPoint" title="geosoft.gxpy.geometry.PPoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.geometry.PPoint</span></code></a> instance</p></td>
</tr>
<tr class="row-even"><td><p>RETURN_LIST_OF_PPOINT</p></td>
<td><p>return results as a list of <a class="reference internal" href="geosoft.gxpy.geometry.html#geosoft.gxpy.geometry.PPoint" title="geosoft.gxpy.geometry.PPoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.geometry.PPoint</span></code></a> instances</p></td>
</tr>
<tr class="row-odd"><td><p>RETURN_GDB</p></td>
<td><p>return result as a <a class="reference internal" href="geosoft.gxpy.gdb.html#geosoft.gxpy.gdb.Geosoft_gdb" title="geosoft.gxpy.gdb.Geosoft_gdb"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.gdb.Geosoft_gdb</span></code></a> instance</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>gdb</strong> – return database name, or a <code class="xref py py-obj docutils literal notranslate"><span class="pre">geosoft.gxpy.gdv.Geosoft_database</span></code> instance. If not
specified and <code class="xref py py-obj docutils literal notranslate"><span class="pre">return_as=RETURN_GDB</span></code>, a temporary database is created.</p></li>
<li><p><strong>overwrite</strong> – True to overwrite existing gdb.</p></li>
<li><p><strong>fft</strong> – <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code> to use a space-domain convolution.  The default uses an FFT, which will
in general produce a cleaner and more accurate result, though it may be slower.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>depends on <code class="xref py py-obj docutils literal notranslate"><span class="pre">return_as</span></code> setting</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Given a TMI grid, or the vertical derivative of the gravity anomaly, calculate
contact source depths using the tilt-depth method. The contact source depth is the
reciprocol of the horizontal gradient of the tilt-derivative at the zero-contour of
the tilt derivative.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 9.4.</span></p>
</div>
</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">Geosoft GX Python API 2021.2.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">geosoft.gxpy.grid_utility submodule</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Geosoft Inc.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>