

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Geosoft GX API &#8212; Geosoft GX Python API 9.3.0 documentation</title>
    <link rel="stylesheet" href="_static/maki.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '9.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="GXGEOSOFT class" href="GXGEOSOFT.html" />
    <link rel="prev" title="GX API Class/Library Reference" href="geosoft.gxapi.classes.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-87443115-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="GXGEOSOFT.html" title="GXGEOSOFT class"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="geosoft.gxapi.classes.html" title="GX API Class/Library Reference"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Geosoft GX Python API 9.3.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="geosoft.gxapi.classes.html" accesskey="U">GX API Class/Library Reference</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Geosoft GX API</a><ul>
<li><a class="reference internal" href="#the-gxcontext-class">The GXContext class</a></li>
<li><a class="reference internal" href="#gxapi-instance-resource-garbage-collection">GXAPI Instance Resource Garbage Collection</a></li>
<li><a class="reference internal" href="#helper-classes-to-pass-immutable-values-by-reference">Helper classes to pass immutable values by reference</a></li>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
</ul>
</li>
</ul>

<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Introduction</a></li>
    <li><a href="geosoft.gxapi.classes.html">GX API Class/Library Reference</a></li>
</ul>
<h3>Previous Topic</h3>
<ul>
    <li><a href="geosoft.gxapi.classes.html" title="previous chapter">GX API Class/Library Reference</a></li>
</ul>
<h3>Next Topic</h3>
<ul>
    <li><a href="GXGEOSOFT.html" title="next chapter">GXGEOSOFT class</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/geosoft.gxapi.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="geosoft-gx-api">
<h1>Geosoft GX API<a class="headerlink" href="#geosoft-gx-api" title="Permalink to this headline">¶</a></h1>
<p>The complete Geosoft GX API is exposed to python developers through the <a class="reference internal" href="geosoft.gxapi.classes.html"><span class="doc">geosoft.gxapi</span></a>
module.  This includes all low-level classes and function calls that expose almost all Geosoft functionality to
a developer.</p>
<div class="section" id="the-gxcontext-class">
<h2>The GXContext class<a class="headerlink" href="#the-gxcontext-class" title="Permalink to this headline">¶</a></h2>
<p>Before calling any other API function from a stand-alone script (a script that is not run as an extension from
Geosoft Desktop), a GX Context must be created and held.  This can be done by creating an instance of
<a class="reference internal" href="#geosoft.gxapi.GXContext" title="geosoft.gxapi.GXContext"><code class="xref py py-class docutils literal"><span class="pre">geosoft.gxapi.GXContext</span></code></a> or an instance of <a class="reference internal" href="geosoft.gxpy.gx.html#geosoft.gxpy.gx.GXpy" title="geosoft.gxpy.gx.GXpy"><code class="xref py py-class docutils literal"><span class="pre">geosoft.gxpy.gx.GXpy</span></code></a>, which handles the details of
<code class="docutils literal"><span class="pre">GXContext</span></code> for you.  We recommend using <a class="reference internal" href="geosoft.gxpy.gx.html#geosoft.gxpy.gx.GXpy" title="geosoft.gxpy.gx.GXpy"><code class="xref py py-class docutils literal"><span class="pre">geosoft.gxpy.gx.GXpy</span></code></a> unless you have chosen to work only with
the low-level <code class="xref py py-mod docutils literal"><span class="pre">geosoft.gxapi</span></code>.  Note that the low-level module <code class="xref py py-mod docutils literal"><span class="pre">geosoft.gxapi</span></code>, although more complex,
is more consistent across versions.</p>
<p>Creating a GX context requires any version of <strong>Geosoft Desktop</strong> to be installed on the target system, from which
the library dll’s are located and loaded. <strong>Geosoft Desktop</strong> can be downloaded from
<a class="reference external" href="https://my.geosoft.com/downloads">Geosoft Downloads</a>.</p>
<p>It is possible to redirect the location of dlls used by setting the <strong>GX_GEOSOFT_BIN_PATH</strong> environment variable
to reference the location of the Geosoft binary files.  Refer to the
<a class="reference external" href="https://geosoftgxdev.atlassian.net/wiki/spaces/GD/overview">GX Developer Guide</a> for more
information.</p>
<dl class="class">
<dt id="geosoft.gxapi.GXContext">
<em class="property">class </em><code class="descname">GXContext</code><span class="sig-paren">(</span><em>wrapper</em><span class="sig-paren">)</span><a class="headerlink" href="#geosoft.gxapi.GXContext" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="gxapi-instance-resource-garbage-collection">
<h2>GXAPI Instance Resource Garbage Collection<a class="headerlink" href="#gxapi-instance-resource-garbage-collection" title="Permalink to this headline">¶</a></h2>
<p>The GXAPI Python garbage collection is not in reverse-order of creation, which can lead to resources that depend
on prior resources being destroyed out of order.  For example, the following will assert on exit:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">vox</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">GXVOX</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;v1.geosoft_voxel&#39;</span><span class="p">)</span>
<span class="n">voxe</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">GXVOXE</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">vox</span><span class="p">)</span>
</pre></div>
</div>
<p>This is because Python garbage collection releases the <strong>vox</strong> instance before the <strong>voxe</strong> instance.  To avoid
this problem, when creating a class instance that depends on a prior class instance, explicitly free the dependant
instance as follows:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">vox</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">GXVOX</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;v1.geosoft_voxel&#39;</span><span class="p">)</span>
<span class="n">voxe</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">GXVOXE</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">vox</span><span class="p">)</span>  <span class="c1"># voxe depends on vox</span>

<span class="c1"># ... do some work with voxe ...</span>

<span class="c1"># release the voxe resource te ensure it is released before vox</span>
<span class="k">del</span> <span class="n">voxe</span>
</pre></div>
</div>
</div>
<div class="section" id="helper-classes-to-pass-immutable-values-by-reference">
<h2>Helper classes to pass immutable values by reference<a class="headerlink" href="#helper-classes-to-pass-immutable-values-by-reference" title="Permalink to this headline">¶</a></h2>
<p>Each of the classes below can be used to pass these immutable types by reference to the GX API.
Instances of the objects have a <code class="code docutils literal"><span class="pre">value</span></code> property that holds the reference to the immutable object.</p>
<dl class="class">
<dt id="geosoft.gxapi.str_ref">
<em class="property">class </em><code class="descname">str_ref</code><a class="headerlink" href="#geosoft.gxapi.str_ref" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="geosoft.gxapi.bool_ref">
<em class="property">class </em><code class="descname">bool_ref</code><a class="headerlink" href="#geosoft.gxapi.bool_ref" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="geosoft.gxapi.int_ref">
<em class="property">class </em><code class="descname">int_ref</code><a class="headerlink" href="#geosoft.gxapi.int_ref" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="geosoft.gxapi.float_ref">
<em class="property">class </em><code class="descname">float_ref</code><a class="headerlink" href="#geosoft.gxapi.float_ref" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Default instances will be intialized with dummy values for <code class="code docutils literal"><span class="pre">float_ref</span></code> and <code class="code docutils literal"><span class="pre">int_ref</span></code>, an empty string
for <code class="code docutils literal"><span class="pre">str_ref</span></code> and <code class="code docutils literal"><span class="pre">False</span></code> for <code class="code docutils literal"><span class="pre">bool_ref</span></code>. One can also set the value during intialization or assigning
to the <code class="code docutils literal"><span class="pre">value</span></code> property.</p>
<p>Example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geosoft.gxapi</span> <span class="kn">as</span> <span class="nn">gxapi</span>

<span class="n">ctx</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">GXContext</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;sample&quot;</span><span class="p">,</span> <span class="s2">&quot;1.0&quot;</span><span class="p">)</span>
<span class="n">_3dn</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">GX3DN</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span>

<span class="c1"># the GX3DN get_point_of_view() method requires float_ref class to return values</span>
<span class="n">distance</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">float_ref</span><span class="p">()</span> <span class="c1"># value property will be initially be gxapi.rDUMMY</span>
<span class="n">rot1</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">float_ref</span><span class="p">(</span><span class="mf">1.01</span><span class="p">)</span> <span class="c1"># value property will be equal to 1.01</span>
<span class="n">rot2</span> <span class="o">=</span> <span class="n">gxapi</span><span class="o">.</span><span class="n">float_ref</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>  <span class="c1"># value property will be equal to 2.0</span>
<span class="n">rot2</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># value propertyis changed to 4.0</span>

<span class="c1"># the values in the objects will be changed to the current point of view</span>
<span class="n">_3dn</span><span class="o">.</span><span class="n">get_point_of_view</span><span class="p">(</span><span class="n">distance</span><span class="p">,</span> <span class="n">rot1</span><span class="p">,</span> <span class="n">rot2</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">distance</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="c1"># value property will now be 8.0</span>
<span class="k">print</span><span class="p">(</span><span class="n">rot1</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="c1"># value property will now be 0.0</span>
<span class="k">print</span><span class="p">(</span><span class="n">rot2</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="c1"># value property will now be 0.0</span>
</pre></div>
</div>
</div>
<div class="section" id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="geosoft.gxapi.GXCancel">
<em class="property">exception </em><code class="descname">GXCancel</code><a class="headerlink" href="#geosoft.gxapi.GXCancel" title="Permalink to this definition">¶</a></dt>
<dd><p>A subclass of <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#SystemExit">SystemExit</a> which is raised when a 
script should cleanly exit due to a cancellation condition. Generally not caught since it will have the same effect 
as <code class="xref py py-exc docutils literal"><span class="pre">SystemExit</span></code> for both standalone and Oasis montaj extension scripts. Raised from within API by 
<code class="xref py py-func docutils literal"><span class="pre">geosoft.gxapi.GXSYS.cancel()</span></code></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 9.1.</span></p>
</div>
</dd></dl>

<dl class="exception">
<dt id="geosoft.gxapi.GXExit">
<em class="property">exception </em><code class="descname">GXExit</code><a class="headerlink" href="#geosoft.gxapi.GXExit" title="Permalink to this definition">¶</a></dt>
<dd><p>A subclass of <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#SystemExit">SystemExit</a> which is raised when a 
script should cleanly exit due to a completion condition. Generally not caught since it will have the same effect as 
<code class="xref py py-exc docutils literal"><span class="pre">SystemExit</span></code> for both standalone and Oasis montaj extension scripts. Raised from within API by 
<code class="xref py py-func docutils literal"><span class="pre">geosoft.gxapi.GXSYS.exit()</span></code></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 9.1.</span></p>
</div>
</dd></dl>

<dl class="exception">
<dt id="geosoft.gxapi.GXAPIError">
<em class="property">exception </em><code class="descname">GXAPIError</code><a class="headerlink" href="#geosoft.gxapi.GXAPIError" title="Permalink to this definition">¶</a></dt>
<dd><p>A subclass of <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError">RuntimeError</a> which is raised whenever 
the GX Python API encounters initialization issues or other API violations. It generally indicates a bug in Python code.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 9.1.</span></p>
</div>
</dd></dl>

<dl class="exception">
<dt id="geosoft.gxapi.GXError">
<em class="property">exception </em><code class="descname">GXError</code><span class="sig-paren">(</span><em>message</em>, <em>module</em>, <em>error_number</em><span class="sig-paren">)</span><a class="headerlink" href="#geosoft.gxapi.GXError" title="Permalink to this definition">¶</a></dt>
<dd><p>A subclass of <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError">RuntimeError</a> which is raised whenever 
a GX Python API call encounters an error. Often the message string of these errors are informative to the user (e.g. File 
‘x’ is locked in another application) but there could be cases where this is not the case. In most cases an attribute, 
<code class="xref py py-attr docutils literal"><span class="pre">number</span></code>, is also available on the exception object that matches the number in the <code class="code docutils literal"><span class="pre">geosoft.ger</span></code> file.
These numbers instead of the string (which could change or even be translated) should be used to identify and handle
very specific exceptions.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 9.1.</span></p>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="GXGEOSOFT.html" title="GXGEOSOFT class"
             >next</a> |</li>
        <li class="right" >
          <a href="geosoft.gxapi.classes.html" title="GX API Class/Library Reference"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Geosoft GX Python API 9.3.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="geosoft.gxapi.classes.html" >GX API Class/Library Reference</a> &#187;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Geosoft Inc.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>